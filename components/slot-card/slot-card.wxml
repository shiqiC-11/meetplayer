<!--components/slot-card/slot-card.wxml-->
<view class="slot-card">
  <!-- ç”¨æˆ·ä¿¡æ¯ -->
  <view class="user-info flex-start">
    <image class="avatar" src="{{ slotData.host.avatarUrl }}" mode="aspectFill" />
    <view class="user-detail flex-1 ml-20">
      <view class="flex-between">
        <text class="nickname">{{ slotData.host.nickName }}</text>
        <text class="rating">â­ {{ slotData.host.rating || 'æš‚æ— è¯„åˆ†' }}</text>
      </view>
      <text class="level text-small text-secondary">
        {{ slotData.host.level.simple }}
        <text wx:if="{{ slotData.host.level.ntrp }}"> (NTRP {{ slotData.host.level.ntrp }})</text>
        <text wx:if="{{ slotData.host.level.verified }}"> âœ…</text>
      </text>
    </view>
  </view>

  <!-- åŸºæœ¬ä¿¡æ¯ -->
  <view class="basic-info mt-20">
    <view class="info-row">
      <text class="info-icon">ğŸ¾</text>
      <text class="info-text">{{ slotData.sport }} | {{ slotData.dateTimeText }}</text>
    </view>

    <view class="info-row mt-10">
      <text class="info-icon">ğŸ“</text>
      <text class="info-text">{{ slotData.venue.name }} ({{ slotData.distance }})</text>
    </view>
  </view>

  <!-- è´¹ç”¨ä¿¡æ¯ï¼ˆå¦‚æœæ”¶è´¹ï¼‰-->
  <view wx:if="{{ slotData.paymentInfo && slotData.paymentInfo.type !== 'free' }}" class="payment-info mt-20">
    <view class="payment-header">
      <text class="payment-title">ğŸ’° è´¹ç”¨ä¿¡æ¯</text>
    </view>
    <view class="payment-detail">
      <text class="payment-text">æ¯äººåº”ä»˜ï¼š</text>
      <text class="payment-amount">Â¥{{ slotData.paymentInfo.perPersonAmount }}</text>
    </view>
    <view wx:if="{{ slotData.paymentInfo.paid }}" class="payment-progress">
      <text class="progress-text">ä»˜æ¬¾è¿›åº¦ï¼š{{ slotData.paymentInfo.paidCount }}/{{ slotData.paymentInfo.totalCount }}</text>
    </view>
  </view>

  <!-- è¦æ±‚ä¿¡æ¯ -->
  <view class="requirement-info mt-20">
    <view class="requirement-row">
      <text class="requirement-label">ğŸ’ª ç­‰çº§è¦æ±‚ï¼š</text>
      <text class="requirement-value">{{ slotData.requirementText.level }}</text>
    </view>

    <view class="requirement-row mt-10">
      <text class="requirement-label">ğŸ‘¥ æ€§åˆ«è¦æ±‚ï¼š</text>
      <text class="requirement-value">{{ slotData.requirementText.gender }}</text>
    </view>

    <view class="requirement-row mt-10">
      <text class="requirement-label">è¿˜ç¼ºï¼š</text>
      <text class="requirement-value text-primary-color">{{ slotData.needCount }} äºº</text>
    </view>
  </view>

  <!-- å¤‡æ³¨ -->
  <view wx:if="{{ slotData.note }}" class="note mt-20">
    <text class="note-icon">ğŸ’¬</text>
    <text class="note-text">"{{ slotData.note }}"</text>
  </view>

  <!-- çŠ¶æ€æ ‡ç­¾ -->
  <view class="status-tag {{ slotData.status === 'open' ? 'status-open' : 'status-closed' }}">
    {{ slotData.statusText }}
  </view>
</view>
